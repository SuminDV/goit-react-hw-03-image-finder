(this["webpackJsonpgoit-react-hw-01-component"]=this["webpackJsonpgoit-react-hw-01-component"]||[]).push([[0],{21:function(e,a,t){e.exports={Button:"Button_Button__3UUok"}},22:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1UceX",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__ceDo6"}},23:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__3H8bB"}},26:function(e,a,t){e.exports={loader:"Loader_loader__DZYAs"}},27:function(e,a,t){e.exports=t(70)},3:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__1sdJF",SearchForm:"Searchbar_SearchForm__WO-FD",SearchForm_button:"Searchbar_SearchForm_button__QuMMj",SearchForm_button_label:"Searchbar_SearchForm_button_label__1Fo3P",SearchForm_input:"Searchbar_SearchForm_input__2OFqh"}},70:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(20),l=t.n(r),c=t(10),i=t(4),m=t(5),s=t(7),u=t(6),g=t(8),h=t(3),p=t.n(h),d=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={text:""},t.onChange=function(e){var a=e.target.value;t.setState({text:a})},t.handleSubmit=function(e){e.preventDefault(),(0,t.props.onSubmit)(t.state.text)},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state.text;return o.a.createElement("div",null,o.a.createElement("header",{className:p.a.Searchbar},o.a.createElement("form",{onSubmit:this.handleSubmit,className:p.a.SearchForm},o.a.createElement("button",{type:"submit",className:p.a.SearchForm_button},o.a.createElement("span",{className:p.a.SearchForm_button_label},"Search")),o.a.createElement("input",{className:p.a.SearchForm_input,onChange:this.onChange,type:"text",value:e,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}))))}}]),a}(n.Component),_=t(21),b=t.n(_),f=function(e){var a=e.changePage;return o.a.createElement("button",{onClick:a,type:"button",className:b.a.Button},"Load More")},y=t(22),S=t.n(y),v=function(e){var a=e.url,t=e.alt,n=e.openModal,r=e.modalImage;return o.a.createElement("div",null,o.a.createElement("li",{onClick:function(){return n(r)},className:"ImageGalleryItem"},o.a.createElement("img",{src:a,alt:t,className:S.a.ImageGalleryItem_image})))},I=t(23),E=t.n(I),M=function(e){var a=e.images,t=e.openModal;return o.a.createElement("ul",{className:E.a.ImageGallery},a.map((function(e){return o.a.createElement(v,{key:e.id,url:e.webformatURL,alt:e.tags,modalImage:e.largeImageURL,openModal:t})})))},O=t(9),F=t.n(O),x=function(e){var a=e.modalImage,t=e.closeModal;return o.a.createElement("div",{onClick:t,className:F.a.Overlay},o.a.createElement("div",{className:F.a.Modal},o.a.createElement("img",{src:a,alt:""})))},j=t(24),k=t.n(j),G="14443381-410a9df7e91443383d0ce3486",N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat(G,"&image_type=photo&orientation=horizontal&per_page=12");return k.a.get(t)},w=t(25),C=t.n(w),L=t(26),B=t.n(L),D=function(){return o.a.createElement("div",{className:B.a.loader},o.a.createElement(C.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3}))},q=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={query:"",images:[],page:1,isModalOpen:!1,isLoading:!1},t.openModal=function(e){t.setState({isModalOpen:!0,modalImage:e})},t.closeModal=function(e){e.target===e.currentTarget&&t.setState({isModalOpen:!1})},t.onSubmit=function(e){t.setState({query:e,isLoading:!0}),N(e).then((function(e){console.log("resData",e),t.setState({images:e.data.hits})})).finally((function(){return t.setState({isLoading:!1})}))},t.changePage=function(){var e=t.state,a=e.query,n=e.page;N(a,n+1).then((function(e){t.setState((function(a){return{page:a.page+1,images:[].concat(Object(c.a)(a.images),Object(c.a)(e.data.hits))}}))}))},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,a=e.query,t=e.page;this.onSubmit(a,t)}},{key:"componentDidUpdate",value:function(e,a){var t=this.state.page;a.page!==t&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isModalOpen,n=e.modalImage,r=e.isLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{onSubmit:this.onSubmit}),r&&o.a.createElement(D,null),o.a.createElement(M,{images:a,openModal:this.openModal}),a.length>0&&o.a.createElement(f,{changePage:this.changePage}),t&&o.a.createElement(x,{modalImage:n,closeModal:this.closeModal}))}}]),a}(n.Component);l.a.render(o.a.createElement(q,null),document.getElementById("root"))},9:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3z9uO",Modal:"Modal_Modal__3xvRE"}}},[[27,1,2]]]);
//# sourceMappingURL=main.65b1ce9a.chunk.js.map